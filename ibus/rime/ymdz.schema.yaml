# Rime schema settings
# encoding: utf-8
# "i"å¼•å¯¼æ‹¼éŸ³åæŸ¥

schema:
  schema_id: ymdz
  name: é€¸ç Â·å•
  version: "alpha"
  author:
    - å°æ³¥å·´
    - æ–¹æ¡ˆè®¾è®¡ï½œå•å•
  description: |
    å•å­—äºŒç é¡¶
  dependencies:
    - pinyin_simp
    - bihua #ç¬”ç”»åæŸ¥
    - ymjm
    - ymfh    
    - ymfc


switches: 
  - name: ascii_mode
    reset: 0
    states: [ ä¸­, è‹± ]
  - name: full_shape
    reset: 0
    states: [ å…¨, åŠ ]
  - name: zh_simp
    reset: 0
    states: [ ç®€, ç¹ ]
  - name: YMPrompt_division
    states: [ ğŸˆš, æ‹† ]       #ğŸˆš
    reset: 0
  #- name: YMPrompt_pinyin_suggestion
    #states: [ éŸ³å…³, éŸ³å¼€ ]
    #reset: 0
  - name: phrase_prediction     #è”æƒ³è¯
    states: [ éš, æ˜¾ ]          # [ ğŸˆ¶, ğŸˆš ]
    reset: 0                    # 1ä¸ºé»˜è®¤å¼€å¯


engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - affix_segmentor@reverse_lookup
    - affix_segmentor@pinyin_lookup
    - affix_segmentor@bihua_lookup
    - affix_segmentor@division_lookup
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator
    - table_translator
    - table_translator@ymjm
    - table_translator@ymfh
    - script_translator@pinyin_lookup
    - script_translator@bihua_lookup
    - script_translator@division_lookup
  filters:
    - simplifier
    - uniquifier
    - simplifier@YMPrompt_pinyin_suggestion
    - simplifier@YMPrompt_division 
    - simplifier@emoji_suggestion
    - simplifier@phrase_prediction    
    - reverse_lookup_filter@pinyin_reverse_lookup
    - reverse_lookup_filter@bihua_reverse_lookup
    - reverse_lookup_filter@division_reverse_lookup
    - simplifier@zh_simp


speller:
  alphabet: "qwertyuiopasdfghjkl;zxcvbnm"
  initials: "qwertyuiopasdfghjklzxcvbnm;"
  finals: " "
  auto_select: true  #é¡¶å­—ä¸Šå±
  auto_select_qnique_candidate: true #ç©ºç è‡ªåŠ¨é¡¶   
  algebra: 
    - derive/^.(.*)$/`$1/
    - derive/^(.).(.*)$/$1`$2/
    - derive/^(..).(.*)$/$1`$2/
    - derive/^(...).(.*)$/$1`$2/
    - derive/^(....).(.*)$/$1`$2/
    - derive/^(.....)./$1`/
    

# ä¸»ç¿»è¯‘å™¨
translator:
  dictionary: ymdz
  enable_encoder: false
  enable_completion: true
  enable_sentence: false
  enable_user_dict: false

# æ»¤é•œ
YMPrompt_division:
  opencc_config: division.json
  option_name: YMPrompt_division
  tips: all
  show_in_comment: true
  comment_format:
    - xform/^/ã€”/
    - xform/$/ã€•/
  tags:
    - abc

YMPrompt_pinyin_suggestion:
  opencc_config: pinyin.json
  option_name: YMPrompt_pinyin_suggestion
  tips: all
  show_in_comment: true
  comment_format:
    - xform/^/ã€”/
    - xform/$/ã€•/
  tags:
    - abc

phrase_prediction:
  opencc_config: phrase.json
  option_name: phrase_prediction
  tips: none
  tags:
    - abc
    
zh_simp:
  opencc_config: s2t.json
  option_name: zh_simp

emoji_suggestion:
  opencc_config: emoji.json
  option_name: emoji_suggestion
  tips: all
  tags:
    - abc
    - pinyin_lookup

# å‰¯ç¿»è¯‘å™¨

ymjm:
  dictionary: ymjm
  enable_user_dict: false
  enable_encoder: false          
  enable_sentence: false         
  enable_completion: true 
  strict_spelling: true  
  enable_commit_history: false

ymfh:
  dictionary: ymfh
  enable_user_dict: false
  enable_encoder: false          
  enable_sentence: false         
  enable_completion: true 
  strict_spelling: true  
  enable_commit_history: false

#åæŸ¥
reverse_lookup: 
  tag: reverse_lookup
  prefix: "i"     #è¨­å®šæ­¤ç¿»è­¯å™¨çš„å‰ç¶´æ¨™è­˜
  # suffix:   # åæŸ¥å…³é—­ç¬¦ï¼Œæš‚ä¸å®šä¹‰
  tips: "ã€åæŸ¥ï¼šæ‹¼éŸ³+eioruç¬”ç”»ã€‘"
  extra_tags:
    - pinyin_lookup
    - bihua_lookup
    - division_lookup  

pinyin_lookup:
  tag: pinyin_lookup
  dictionary: pinyin_simp
  tips: "ã€”æ‹¼éŸ³ã€•"

bihua_lookup:
  tag: bihua_lookup
  dictionary: bihua
  tips: ã€ç¬”ç”»ã€‘
  preedit_format:
    #- xlit/hspnz/ä¸€ä¸¨ä¸¿ä¸¶ä¹™/
    - xlit/eioru/ä¸€ä¸¨ä¸¿ä¸¶ä¹™/

division_lookup:
  tag: division_lookup
  dictionary: ymfc
  tips: "ã€”æ‹†åˆ†ã€•"

pinyin_reverse_lookup:
  tags: [ pinyin_lookup ]
  overwrite_comment: true
  dictionary: ymfc          
  comment_format:
    - "xform//ã€•/"
    - "xform/^/ã€”/" 

bihua_reverse_lookup:
  tags: [ bihua_lookup ] 
  overwrite_comment: true
  dictionary: ymfc  
  comment_format:
    - "xform/$/ã€•/"
    - "xform/^/ã€”/"
    - "xform/~//"

division_reverse_lookup:
  tags: [ division_lookup ]
  overwrite_comment: true
  dictionary: ymfc
  comment_format:
    - "xform//ã€•/"
    - "xform/^/ã€”/"
    - "xform/ /, /"


# æ ‡ç‚¹
punctuator:
  import_preset: symbols_for_ym       
  full_shape:
    ' ' : { commit: 'ã€€' }
    ',' : { commit: ï¼Œ }
    '.' : { commit: ã€‚ }
    '<' : [ ã€Š, ã€ˆ, Â«, â€¹ ]
    '>' : [ ã€‹, ã€‰, Â», â€º ]
    '?' : { commit: ï¼Ÿ }
    '/' : [ ã€, '/', ï¼, Ã· ]
    #'/' : { commit: ï¼Ÿ }
    ';' : { commit: ï¼› }
    ':' : { commit: ï¼š }
    '''' : { pair: [ 'â€˜', 'â€™' ] }
    '"' : { pair: [ 'â€œ', 'â€' ] }
    '\' : [ ã€, ï¼¼ ]
    '|' : [ Â·, ï½œ, 'Â§', 'Â¦' ]
    '`' : ï½€
    '~' : ï½
    '!' : { commit: ï¼ }
    '@' : ï¼ 
    '#' : ï¼ƒ
    '%' : [ ï¼…, 'Â°', 'â„ƒ' ]
    '$' : [ ï¿¥, '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤' ]
    '^' : { commit: â€¦â€¦ }
    '&' : ï¼†
    '*' : [ ï¼Š, Â·, ãƒ», Ã—, â€», â‚ ]
    '(' : ï¼ˆ
    ')' : ï¼‰
    '-' : '-'
    '_' : â€”â€”
    '+' : '+'
    '=' : '='
    '[' : [ ã€Œ, ã€, ã€”, ï¼» ]
    ']' : [ ã€, ã€‘, ã€•, ï¼½ ]
    '{' : [ ã€, ã€–, ï½› ]
    '}' : [ ã€, ã€—, ï½ ]

  half_shape:
    ',' : { commit: ï¼Œ }
    '.' : { commit: ã€‚ }
    '<' : [ ã€Š, ã€ˆ, Â«, â€¹ ]
    '>' : [ ã€‹, ã€‰, Â», â€º ]
    #'/' : [ ã€, '/', ï¼, Ã· ]
    #'?' : { commit: ï¼Ÿ }
    #';' : { commit: ï¼› }
    '?' : [ ã€, '/', ï¼, Ã· ]
    '/' : { commit: ï¼Ÿ }
    ':' : { commit: ï¼š }
    '''' : { pair: [ 'â€˜', 'â€™' ] }
    '"' : { pair: [ 'â€œ', 'â€' ] }
    '\' : [ ã€, '\', ï¼¼ ]
    '|' : [ Â·, '|', ï½œ, 'Â§', 'Â¦' ]
    '`' : '`'
    '~' : [ '~', ï½ ]
    '!' : { commit: ï¼ }
    '@' : '@'
    '#' : '#'
    '%' : [ '%', ï¼…, 'Â°', 'â„ƒ' ]
    '$' : [ ï¿¥, '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤' ]
    '^' : { commit: â€¦â€¦ }
    '&' : '&'
    '*' : [ '*', ï¼Š, Â·, ãƒ», Ã—, â€», â‚ ]
    '(' : ï¼ˆ
    ')' : ï¼‰
    '-' : '-'
    '_' : â€”â€”
    '+' : '+'
    '=' : '='
    '[' : [ ã€Œ, ã€, ã€”, ï¼» ]
    ']' : [ ã€, ã€‘, ã€•,  ï¼½ ]
    '{' : [ ã€, ã€–, ï½› ]
    '}' : [ ã€, ã€—, ï½ ]
  
key_binder:
  bindings:
    - { when: paging, accept: minus, send: Page_Up }
    - { when: has_menu, accept: equal, send: Page_Down }
    - { when: always, accept: "Control+Shift+L", toggle: phrase_prediction }     
    - { when: always, accept: "Control+Shift+C", toggle: YMPrompt_division } 
   
    
recognizer:
  patterns:
    reverse_lookup: "^i([a-z]+'?)*$"
    punct: '^([e][a-z;]{1}|[eou]([0-9]0?|[a-z]+))$'           
    #punct: "^/([0-9]0?|[a-z]+)$"
    #retention: "^[abcdfghjklmnpqstvwxyz;][a-z;][eruio]{0,3}$"   


menu:
  page_size: 6
